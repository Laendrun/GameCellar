limit_req_status 429;

# API: 10 req/sec per IP
limit_req_zone $binary_remote_addr zone=api_zone:20m rate=10r/s;

# Login: 10 req/min per IP
limit_req_zone $binary_remote_addr zone=login_zone:10m rate=10r/m;

# Static assets: 60 req/sec per IP
limit_req_zone $binary_remote_addr zone=assets_zone:10m rate=60r/s;
